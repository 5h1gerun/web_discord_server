import discord
from discord import app_commands
from typing import Dict, Any

# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
# è©³ç´°ãªã‚³ãƒãƒ³ãƒ‰ä»•æ§˜ã‚’ä¸€ã‹ã‚‰å®šç¾©ï¼ˆå…¨ã‚³ãƒãƒ³ãƒ‰å«ã‚€ï¼‰
# â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
COMMAND_SPECS: Dict[str, Dict[str, Any]] = {
    "ping": {
        "description": (
            "âš¡ï¸ **ping** ã‚³ãƒãƒ³ãƒ‰ã¯ã€ãƒœãƒƒãƒˆã¨Discordã‚µãƒ¼ãƒãƒ¼é–“ã®é€šä¿¡é…å»¶ã‚’æ¸¬å®šã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒŸãƒªç§’å˜ä½ã§è¡¨ç¤ºã—ã¾ã™ã€‚"
            " ã‚²ãƒ¼ãƒ ä¸­ã‚„é«˜é »åº¦ãªæ“ä½œã‚’è¡Œã†éš›ã«ã€ãƒœãƒƒãƒˆã®å¿œç­”æ€§ã‚’ç¢ºèªã™ã‚‹ã®ã«æœ€é©ã§ã™ã€‚"
        ),
        "options": []
    },
    "myfiles": {
        "description": (
            "ğŸ“‚ **myfiles** ã‚³ãƒãƒ³ãƒ‰ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒéå»ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’æœ€å¤§10ä»¶ãšã¤ã®ãƒšãƒ¼ã‚¸å½¢å¼ã§ä¸€è¦§è¡¨ç¤ºã—ã¾ã™ã€‚"
            " ãƒ•ã‚¡ã‚¤ãƒ«åã€ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ—¥æ™‚ã€ã‚µã‚¤ã‚ºãªã©ã®è©³ç´°æƒ…å ±ã‚’å«ã¿ã€ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§ãƒšãƒ¼ã‚¸ç§»å‹•ãŒå¯èƒ½ã§ã™ã€‚"
        ),
        "options": []
    },
    "upload": {
        "description": (
            "â¬†ï¸ **upload** ã‚³ãƒãƒ³ãƒ‰ã¯ã€æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’Discordã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã€è‡ªå‹•ã§ã‚µãƒ¼ãƒãƒ¼å†…ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ã—ã¾ã™ã€‚"
            " ç”»åƒ(png/jpeg)ã€å‹•ç”»(mp4/WEBM)ãªã©å¤šãã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¯¾å¿œã—ã€Nitroãƒ—ãƒ©ãƒ³ã«ã‚ˆã‚‹ã‚µã‚¤ã‚ºä¸Šé™ã‚‚è‡ªå‹•åˆ¤å®šã•ã‚Œã¾ã™ã€‚"
        ),
        "options": [
            {
                "name": "file",
                "type": "Attachment",
                "required": True,
                "description": "ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ·»ä»˜ã—ã¦ãã ã•ã„ã€‚æœ€å¤§ã‚µã‚¤ã‚ºã¯åˆ©ç”¨ãƒ—ãƒ©ãƒ³ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã€‚"
            }
        ]
    },
    "delete": {
        "description": (
            "ğŸ—‘ï¸ **delete** ã‚³ãƒãƒ³ãƒ‰ã¯ã€æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«IDã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ°¸ä¹…ã«å‰Šé™¤ã—ã¾ã™ã€‚"
            " æ“ä½œå¾Œã®å¾©å…ƒã¯ã§ããªã„ãŸã‚ã€IDã®æŒ‡å®šãƒŸã‚¹ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚"
        ),
        "options": [
            {
                "name": "file_id",
                "type": "String",
                "required": True,
                "description": "å‰Šé™¤å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«IDã€‚`myfiles`ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã—ãŸIDã‚’æŒ‡å®šã—ã¾ã™ã€‚"
            }
        ]
    },
    "delete_all": {
        "description": (
            "ğŸ—‘ï¸ **delete_all** ã‚³ãƒãƒ³ãƒ‰ã¯ã€è‡ªåˆ†ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸€æ‹¬å‰Šé™¤ã—ã¾ã™ã€‚",
            " å®¹é‡æ•´ç†ã‚„é€€ä¼šæ™‚ã«ä¾¿åˆ©ã§ã™ãŒã€å‰Šé™¤å¾Œã¯å¾©å…ƒã§ãã¾ã›ã‚“ã€‚"
        ),
        "options": []
    },
    "set_tags": {
        "description": (
            "ğŸ·ï¸ **set_tags** ã‚³ãƒãƒ³ãƒ‰ã¯ã€æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã«ä»»æ„ã®ã‚¿ã‚°æ–‡å­—åˆ—ã‚’è¨­å®šã—ã¾ã™ã€‚",
            " æ¤œç´¢ã‚„æ•´ç†ã®ãŸã‚ã«è¤‡æ•°ã‚¿ã‚°ã‚’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§ä»˜ä¸ã§ãã¾ã™ã€‚"
        ),
        "options": [
            {"name": "file_id", "type": "String", "required": True, "description": "ã‚¿ã‚°ã‚’ä»˜ä¸ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ID"},
            {"name": "tags",    "type": "String", "required": True, "description": "è¨­å®šã™ã‚‹ã‚¿ã‚°ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰"}
        ]
    },
    "getfile": {
        "description": (
            "ğŸ“¤ **getfile** ã‚³ãƒãƒ³ãƒ‰ã¯ã€ä¿å­˜æ¸ˆã¿ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†åº¦Discordã«é€ä¿¡ã—ã¾ã™ã€‚"
            " ã‚µã‚¤ã‚ºåˆ¶é™ã‚’è¶…ãˆã‚‹å ´åˆã¯ã€å®‰å…¨ãªãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ã‚’ç™ºè¡Œã—ã€DMã§é€ä¿¡ã—ã¾ã™ã€‚"
        ),
        "options": [
            {
                "name": "file_id",
                "type": "String",
                "required": True,
                "description": "å†é€ä¿¡ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ã®IDã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚"
            }
        ]
    },
    "shared_delete_all": {
        "description": (
            "ğŸ§º **shared_delete_all** ã‚³ãƒãƒ³ãƒ‰ã¯ã€æŒ‡å®šã—ãŸå…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã™ã¹ã¦å‰Šé™¤ã—ã¾ã™ã€‚",
            " ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç†è€…ã‚„ãƒ¡ãƒ³ãƒãƒ¼ãŒæ•´ç†ã—ãŸã„éš›ã«åˆ©ç”¨ã—ã¾ã™ã€‚"
        ),
        "options": [
            {"name": "channel", "type": "TextChannel", "required": True, "description": "å¯¾è±¡ã¨ãªã‚‹å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒãƒ£ãƒ³ãƒãƒ«"}
        ]
    },
    "set_shared_tags": {
        "description": (
            "ğŸ·ï¸ **set_shared_tags** ã‚³ãƒãƒ³ãƒ‰ã¯ã€å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¿ã‚°ã‚’è¨­å®šã—ã¾ã™ã€‚",
            " æ¨©é™ã‚’æŒã¤ãƒ¡ãƒ³ãƒãƒ¼ãŒæ•´ç†ã—ã‚„ã™ã„ã‚ˆã†ã«ã‚¿ã‚°ä»˜ã‘ã‚’è¡Œã„ã¾ã™ã€‚"
        ),
        "options": [
            {"name": "file_id", "type": "String", "required": True, "description": "ã‚¿ã‚°ã‚’å¤‰æ›´ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ID"},
            {"name": "tags",    "type": "String", "required": True, "description": "è¨­å®šã™ã‚‹ã‚¿ã‚°ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰"}
        ]
    },
    "share": {
        "description": (
            "ğŸ”— **share** ã‚³ãƒãƒ³ãƒ‰ã¯ã€æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®å…±æœ‰çŠ¶æ…‹ã‚’ã‚ªãƒ³/ã‚ªãƒ•ã§åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚"
            " å…±æœ‰æœ‰åŠ¹åŒ–ã™ã‚‹ã¨ã€ä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ`getlink`ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚"
        ),
        "options": [
            {
                "name": "file_id",
                "type": "String",
                "required": True,
                "description": "å…±æœ‰è¨­å®šã‚’å¤‰æ›´ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«IDã‚’æŒ‡å®šã—ã¾ã™ã€‚"
            }
        ]
    },
    "getlink": {
        "description": (
            "ğŸŒ **getlink** ã‚³ãƒãƒ³ãƒ‰ã¯ã€å…±æœ‰ä¸­ã¾ãŸã¯æ‰€æœ‰ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®å®‰å…¨ãªãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ã‚’ç”Ÿæˆã—ã¾ã™ã€‚"
            " ãƒªãƒ³ã‚¯ã«ã¯æœ‰åŠ¹æœŸé™ãŒè¨­å®šã•ã‚Œã€ä¸€å®šæ™‚é–“å¾Œã«ç„¡åŠ¹åŒ–ã•ã‚Œã¾ã™ã€‚"
        ),
        "options": [
            {
                "name": "file_id",
                "type": "String",
                "required": True,
                "description": "ãƒªãƒ³ã‚¯ã‚’ç”Ÿæˆã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«IDã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚"
            }
        ]
    },
    "get_login": {
        "description": (
            "ğŸ”’ **get_login** ã‚³ãƒãƒ³ãƒ‰ã¯ã€Botã‚ªãƒ¼ãƒŠãƒ¼å°‚ç”¨ã®ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚"
            " ãƒœãƒƒãƒˆã®å†…éƒ¨è¨­å®šã‚„ç®¡ç†ç”¨ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚’DMã§å–å¾—ã§ãã¾ã™ã€‚"
        ),
        "options": []
    },
    "sync": {
        "description": (
            "ğŸ”„ **sync** ã‚³ãƒãƒ³ãƒ‰ã¯ã€ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰å®šç¾©ã‚’Discordã‚µãƒ¼ãƒãƒ¼ã«åŒæœŸã—ã¾ã™ã€‚"
            " æ–°è¦è¿½åŠ ã‚„å¤‰æ›´ã‚’å³æ™‚åæ˜ ã•ã›ãŸã„å ´åˆã«ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼ˆã‚ªãƒ¼ãƒŠãƒ¼å°‚ç”¨ï¼‰ã€‚"
        ),
        "options": []
    },
    "create_shared_folder": {
        "description": (
            "ğŸ“ **create_shared_folder** ã‚³ãƒãƒ³ãƒ‰ã¯ã€æ–°ã—ã„å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã€æŒ‡å®šã—ãŸãƒ¡ãƒ³ãƒãƒ¼ã¨æ¨©é™ã‚’å…±æœ‰ã—ã¾ã™ã€‚"
            " ãƒ•ã‚©ãƒ«ãƒ€åã¨æ‹›å¾…ãƒ¡ãƒ³ãƒãƒ¼ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€å…±åŒç·¨é›†ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚"
        ),
        "options": [
            {"name": "folder_name", "type": "String", "required": True, "description": "ä½œæˆã™ã‚‹å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ã®åç§°ã€‚"},
            {"name": "members", "type": "String", "required": True, "description": "å…±æœ‰ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³å½¢å¼ã§æŒ‡å®šï¼ˆä¾‹: @User1 @User2ï¼‰ã€‚"}
        ]
    },
    "manage_shared_folder": {
        "description": (
            "ğŸ› ï¸ **manage_shared_folder** ã‚³ãƒãƒ³ãƒ‰ã¯ã€æ—¢å­˜ã®å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ¡ãƒ³ãƒãƒ¼æ¨©é™ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚"
            " ãƒ¡ãƒ³ãƒãƒ¼è¿½åŠ ã‚„å‰Šé™¤ã€é–²è¦§/ç·¨é›†æ¨©é™ã®è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚"
        ),
        "options": [
            {"name": "channel", "type": "TextChannel", "required": True, "description": "ç®¡ç†å¯¾è±¡ã®å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒãƒ£ãƒ³ãƒãƒ«ã‚’æŒ‡å®šã€‚"}
        ]
    },
    "shared_files": {
        "description": (
            "ğŸ‘¥ **shared_files** ã‚³ãƒãƒ³ãƒ‰ã¯ã€å‚åŠ ä¸­ã®ã™ã¹ã¦ã®å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚"
            " å„ãƒ•ã‚©ãƒ«ãƒ€ã”ã¨ã«ãƒ•ã‚¡ã‚¤ãƒ«æ•°ã‚„æœ€æ–°æ›´æ–°æ—¥æ™‚ã‚‚ç¢ºèªå¯èƒ½ã§ã™ã€‚"
        ),
        "options": []
    },
    "delete_shared_folder": {
        "description": (
            "âŒ **delete_shared_folder** ã‚³ãƒãƒ³ãƒ‰ã¯ã€å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ç”¨ã®ãƒãƒ£ãƒ³ãƒãƒ«ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨˜éŒ²ã‚’ä¸€æ‹¬å‰Šé™¤ã—ã¾ã™ã€‚"
            " å‰Šé™¤å¾Œã¯å¾©æ—§ã§ããªã„ãŸã‚ã€æ³¨æ„ã—ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚"
        ),
        "options": [
            {"name": "channel", "type": "TextChannel", "required": True, "description": "å‰Šé™¤ã™ã‚‹å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒãƒ£ãƒ³ãƒãƒ«ã‚’æŒ‡å®šã€‚"}
        ]
    },
    "remove_shared_folder": {
        "description": (
            "ğŸš« **remove_shared_folder** ã‚³ãƒãƒ³ãƒ‰ã¯ã€æŒ‡å®šã—ãŸå…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰é€€å‡ºã¾ãŸã¯ãƒ•ã‚©ãƒ«ãƒ€è‡ªä½“ã‚’å‰Šé™¤ã—ã¾ã™ã€‚"
            " é€€å‡ºã®ã¿ã®å ´åˆã€ä»–ã®ãƒ¡ãƒ³ãƒãƒ¼ã¯å½±éŸ¿ã‚’å—ã‘ã¾ã›ã‚“ã€‚"
        ),
        "options": []
    },
    "upload_shared": {
        "description": (
            "ğŸ“¨ **upload_shared** ã‚³ãƒãƒ³ãƒ‰ã¯ã€ç‰¹å®šã®å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒãƒ£ãƒ³ãƒãƒ«ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã€"
            " ãƒ¡ãƒ³ãƒãƒ¼ã¨å³æ™‚å…±æœ‰ã—ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—ã‚„ã‚µã‚¤ã‚ºã¯é€šå¸¸ã®`upload`ã¨åŒæ§˜ã§ã™ã€‚"
        ),
        "options": [
            {"name": "channel", "type": "TextChannel", "required": True, "description": "ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å…ˆã®å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒãƒ£ãƒ³ãƒãƒ«ã€‚"},
            {"name": "file",    "type": "Attachment",  "required": True, "description": "å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€‚"}
        ]
    },
    "add_shared_webhook": {
        "description": (
            "ğŸ”” **add_shared_webhook** ã‚³ãƒãƒ³ãƒ‰ã¯ã€æ—¢å­˜ã®å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ç”¨ãƒãƒ£ãƒ³ãƒãƒ«ã«",
            " `WDS Notify` Webhook ã‚’ä½œæˆ(ã¾ãŸã¯å†åˆ©ç”¨)ã—ã€URL ã‚’è‡ªå‹•ç™»éŒ²ã—ã¾ã™ã€‚"
        ),
        "options": [
            {"name": "channel", "type": "TextChannel", "required": True, "description": "Webhook ã‚’è¨­å®šã™ã‚‹å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ãƒãƒ£ãƒ³ãƒãƒ«ã€‚"}
        ]
    },
    "cleanup_shared": {
        "description": (
            "ğŸ§¹ **cleanup_shared** ã‚³ãƒãƒ³ãƒ‰ã¯ã€ç©ºã®å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ‹¬å‰Šé™¤ã—ã€ä¸è¦ãªãƒãƒ£ãƒ³ãƒãƒ«ã‚’æ•´ç†ã—ã¾ã™ã€‚"
            " å®šæœŸçš„ãªãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ™‚ã«æœ‰ç”¨ã§ã™ã€‚"
        ),
        "options": []
    },
    "enable_totp": {
        "description": (
            "ğŸ” **enable_totp** ã‚³ãƒãƒ³ãƒ‰ã¯ã€äºŒè¦ç´ èªè¨¼ã‚’æœ‰åŠ¹åŒ–ã—ã€QRã‚³ãƒ¼ãƒ‰ã‚’DMã§é€ä¿¡ã—ã¾ã™ã€‚"
            " ã‚¢ãƒ—ãƒªã§QRã‚’èª­ã¿è¾¼ã‚€ã“ã¨ã§ã€TOTPã‚³ãƒ¼ãƒ‰ç”ŸæˆãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚"
        ),
        "options": []
    },
    "admin_reset_totp": {
        "description": (
            "ğŸ›¡ï¸ **admin_reset_totp** ã‚³ãƒãƒ³ãƒ‰ã¯ã€ç®¡ç†è€…å°‚ç”¨ã§æŒ‡å®šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®TOTPèªè¨¼ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚"
            " ãƒªã‚»ãƒƒãƒˆå¾Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å†åº¦TOTPè¨­å®šã‚’è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
        ),
        "options": [
            {"name": "user", "type": "User", "required": True, "description": "TOTPã‚’ãƒªã‚»ãƒƒãƒˆã—ãŸã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã€‚"}
        ]
    }
}

class HelpView(discord.ui.View):
    def __init__(self):
        super().__init__(timeout=180)
        options = [
            discord.SelectOption(
                label=f"/{name}",
                value=name,
                description=(spec["description"].replace("**", "")[:80] + "â€¦" if len(spec["description"]) > 80 else spec["description"])  
            )
            for name, spec in COMMAND_SPECS.items()
        ]
        select = discord.ui.Select(
            placeholder="ğŸ” ã‚³ãƒãƒ³ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„",
            options=options,
            min_values=1,
            max_values=1
        )
        select.callback = self.on_select
        self.add_item(select)

    async def on_select(self, interaction: discord.Interaction):
        name = interaction.data["values"][0]
        spec = COMMAND_SPECS[name]
        embed = discord.Embed(
            title=f"/{name}",
            description=spec["description"],
            color=discord.Color.blue()
        )
        if spec["options"]:
            for opt in spec["options"]:
                field_name = f"{opt['name']} ({opt['type']}){' *' if opt['required'] else ''}"
                embed.add_field(name=field_name, value=opt['description'], inline=False)
        else:
            embed.add_field(name="ã‚ªãƒ—ã‚·ãƒ§ãƒ³", value="ãªã—", inline=False)
        await interaction.response.edit_message(embed=embed, view=self)

async def setup_help(bot: discord.Client):
    @bot.tree.command(
        name="help",
        description="ğŸ“– åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ä¸€è¦§ã‚’è¡¨ç¤ºã—ã€è©³ç´°ã‚¬ã‚¤ãƒ‰ã‚’ç¢ºèªã—ã¾ã™ã€‚"
    )
    async def _help(inter: discord.Interaction):
        await inter.response.defer(ephemeral=True)
        view = HelpView()
        await inter.followup.send(
            content="â“ ä¸‹ã®ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã‹ã‚‰ã‚³ãƒãƒ³ãƒ‰ã‚’é¸æŠã—ã€è©³ç´°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            view=view,
            ephemeral=True
        )
